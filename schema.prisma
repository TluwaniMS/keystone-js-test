// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id       String  @id @default(cuid())
  name     String  @default("")
  email    String  @unique @default("")
  password String
  isAdmin  Boolean @default(false)
}

model Doctor {
  id         String    @id @default(cuid())
  name       String    @default("")
  surname    String    @default("")
  email      String    @unique @default("")
  gender     String?
  specialty  String?
  hospital   Hospital? @relation("Doctor_hospital", fields: [hospitalId], references: [id])
  hospitalId String?   @map("hospital")

  @@index([hospitalId])
}

model Hospital {
  id             String        @id @default(cuid())
  hospitalName   String        @default("")
  hospitalKey    String        @unique @default("")
  municipality   Municipality? @relation("Hospital_municipality", fields: [municipalityId], references: [id])
  municipalityId String?       @map("municipality")
  doctors        Doctor[]      @relation("Doctor_hospital")

  @@index([municipalityId])
}

model Municipality {
  id               String     @id @default(cuid())
  municipalityName String     @default("")
  municipalityKey  String     @unique @default("")
  hospitals        Hospital[] @relation("Hospital_municipality")
}